function setWallpaper(d,c){c=(typeof c!=="undefined")?c:true;try{if(d){$("#background-img").css("background-image","url(file:///"+d+")");applyCssEffects("#background-img");if(lastimg!=""&&israndom){$("#background-aux").css("display","block");$("#background-aux").css("opacity","1.0");switch(transitioneffect){case"fade":function b(){$("#background-aux").fadeOut(transitionduration,function(){$("#background-aux").css("background-image","url(file:///"+lastimg+")")})}setTimeout(b,imagewaittime);break;case"none":function a(){$("#background-aux").fadeOut(0,function(){$("#background-aux").css("background-image","url(file:///"+lastimg+")")})}setTimeout(a,imagewaittime);break;default:consolemsg("Error: invalid transition effect.");break}}else{$("#background-aux").css("background-image","url(file:///"+d+")")}applyCssEffects("#background-aux");if(israndom){lastimg=d}if(c){if(israndom){setTimeout(function(){wallpaperConsoleStatus(d)},imagewaittime)}else{wallpaperConsoleStatus(d)}}}else{if(defaultcolorcss!=""){$("#background-aux").css("background-color",defaultcolorcss);$("#background-aux").css("background-image","");$("#background-aux").css("display","none");$("#background-aux").css("opacity","1.0");$("#background-colored").css("background-color",defaultcolorcss);$("#background-img").css("background-color",defaultcolorcss);$("#background-img").css("background-image","");restoreCssEffects("#background-aux");restoreCssEffects("#background-img")}try{if(c&&defaultcolorcss!=""){consolemsg("Deleted wallpaper image and set color {0}.".format(setRgbLineMsg(defaultcolorcss)))}}catch(f){consolemsg(parseException(f))}finally{}}}catch(f){consolemsg(parseException(f))}finally{}}function applyCssEffects(a){restoreCssEffects(a);filterline="";if(effects.blur.enabled){filterline+="blur("+effects.blur.value+"px) "}if(effects.grayscale.enabled){filterline+="grayscale("+effects.grayscale.value+"%) "}if(effects.brightness.enabled){filterline+="brightness("+effects.brightness.value+"%) "}if(effects.contrast.enabled){filterline+="contrast("+effects.contrast.value+"%) "}if(effects.huerotate.enabled){filterline+="hue-rotate("+effects.huerotate.value+"deg) "}if(effects.invert.enabled){filterline+="invert("+effects.invert.value+"%) "}if(effects.saturation.enabled){filterline+="saturate("+effects.saturation.value+"%) "}if(effects.opacity.enabled){filterline+="opacity("+effects.opacity.value+"%) "}if(effects.sepia.enabled){filterline+="sepia("+effects.sepia.value+"%) "}$(a).css("-webkit-filter",filterline);$(a).css("filter",filterline);$(a).css("transform","scale("+effects.scale.value+")")}function restoreCssEffects(a){$(a).css("-webkit-filter","");$(a).css("filter","");$(a).css("transform","")}function clearAll(){clearRandomFunTimer();selectedfolder="";selectedimg="";consolemsg("Clearing wallpaper.");setWallpaper("",true)}function clearRandomFunTimer(){try{clearTimeout(timedrandomizefun);consolemsg("Randomized function stopped.")}catch(a){consolemsg(parseException(a))}finally{}}function intervalsetminutesmsg(b,a){m=a/60000;if(m<=1){consolemsg("{0} set to {1} minute.".format(b,m))}else{consolemsg("{0} set to {1} minutes.".format(b,m))}}function createRGBColor(a){color=a.split(" ");color=color.map(function(b){return Math.ceil(b*255)});return"rgb("+color+")"}function roundNumber(d,g){if(!(""+d).includes("e")){return +(Math.round(d+"e+"+g)+"e-"+g)}else{var a=(""+d).split("e");var f="";if(+a[1]+g>0){f="+"}var e=+a[0]+"e"+f+(+a[1]+g);var c=Math.round(e);var b=+(c+"e-"+g);return b}}function cutword(b,a){if(b.length<=a){return b}else{return"..."+b.substring(b.length-a,b.length)}};